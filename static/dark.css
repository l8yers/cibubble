/* === DREAMING SPANISH-INSPIRED DARK MODE for CIBUBBLE === */

body.dark-mode,
html.dark-mode,
:root.dark-mode {
  --bg: #101014;
  --bg-alt: #181820;
  --surface: #1a1a21;
  --surface-alt: #23232b;
  --card: #1d1d24;
  --sidebar: #181820;
  --input: #23232b;
  --border: #23232b;
  --shadow: 0 3px 20px #000b;
  --text: #f5f5f7;
  --text-muted: #b8b8c6;
  --text-softer: #7e7e94;
  --accent: #ff980e;
  --accent-alt: #2562e9;
  --ds-easy: #15cf6b;
  --ds-intermediate: #ff980e;
  --ds-advanced: #ff435a;
  --ds-badge-bg: #23232b;
  --ds-badge-color: #fff;
  --shadow-card: 0 2px 14px #000c, 0 1.5px 8px #0004;
}

/* ---------- BASE BACKGROUNDS ---------- */
body.dark-mode {
  background: var(--bg) !important;
  color: var(--text) !important;
}

/* ---------- HEADER / NAVBAR ---------- */
body.dark-mode .header,
body.dark-mode .nav,
body.dark-mode .navbar {
  background: var(--bg-alt) !important;
  border-bottom: none !important;
  box-shadow: 0 4px 20px #000b !important;
}
body.dark-mode .logo-title {
  color: #fff !important;
}

/* ---------- SIDEBAR ---------- */
body.dark-mode .sidebar-root,
body.dark-mode .sidebar,
body.dark-mode .sidebar-card,
body.dark-mode .player-sidebar {
  background: var(--sidebar) !important;
  color: var(--text) !important;
  border: none !important;
}

/* ---------- MAIN PANELS & CARDS ---------- */
body.dark-mode .card,
body.dark-mode .profile-main,
body.dark-mode .progress-card,
body.dark-mode .stats-summary,
body.dark-mode .progress-summary,
body.dark-mode .modal-content,
body.dark-mode .player-video-box,
body.dark-mode .table-card,
body.dark-mode .faq-card {
  background: var(--card) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  box-shadow: var(--shadow-card) !important;
}

/* ---------- HIGHLIGHTED/ALT PANELS ---------- */
body.dark-mode .streak-block,
body.dark-mode .summary-highlight,
body.dark-mode .calendar-cell.active,
body.dark-mode .calendar-heatmap-cell.active,
body.dark-mode .activity-chart,
body.dark-mode .chart-panel {
  background: var(--surface-alt) !important;
  color: #ffe289 !important;
}

/* ---------- TEXT ---------- */
body.dark-mode,
body.dark-mode .section-title,
body.dark-mode .card-title,
body.dark-mode .sidebar-title,
body.dark-mode .sidebar-header,
body.dark-mode .faq-question {
  color: var(--text) !important;
}
body.dark-mode .card-meta,
body.dark-mode .sidebar-card-meta,
body.dark-mode .empty-row,
body.dark-mode .no-tags {
  color: var(--text-muted) !important;
}
body.dark-mode .faq-answer {
  color: var(--text-softer) !important;
}

/* ---------- BUTTONS ---------- */
body.dark-mode button,
body.dark-mode .logout-btn,
body.dark-mode .fav-row-btn,
body.dark-mode .add-tag-btn,
body.dark-mode .save-btn,
body.dark-mode .cancel-btn,
body.dark-mode .settings-edit-btn,
body.dark-mode .settings-save-btn,
body.dark-mode .settings-cancel-btn {
  background: var(--surface) !important;
  color: var(--text) !important;
  border: 1.3px solid var(--border) !important;
  box-shadow: 0 1.5px 6px #0003 !important;
  transition: background 0.13s, color 0.13s;
}
body.dark-mode button:hover,
body.dark-mode .fav-row-btn:hover,
body.dark-mode .add-tag-btn:hover,
body.dark-mode .settings-edit-btn:hover,
body.dark-mode .settings-save-btn:hover,
body.dark-mode .settings-cancel-btn:hover {
  background: var(--accent) !important;
  color: #fff !important;
}

/* ---------- FORMS/INPUTS ---------- */
body.dark-mode input,
body.dark-mode textarea,
body.dark-mode select,
body.dark-mode .manual-time-form input,
body.dark-mode .manual-time-form textarea,
body.dark-mode .tag-input,
body.dark-mode .settings-input {
  background: var(--input) !important;
  color: var(--text) !important;
  border: 1.3px solid var(--border) !important;
}
body.dark-mode input:focus,
body.dark-mode textarea:focus,
body.dark-mode .tag-input:focus,
body.dark-mode .settings-input:focus {
  border: 1.3px solid var(--accent) !important;
  outline: none;
}

/* ---------- DROPDOWNS, FILTERS, SEARCH ---------- */
body.dark-mode .controls-bar,
body.dark-mode .dropdown-btn,
body.dark-mode .search-input,
body.dark-mode .dropdown-content {
  background: var(--surface) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  box-shadow: 0 1px 8px #0003 !important;
}

/* ---------- CHIP, BADGES, TAGS ---------- */
body.dark-mode .chip,
body.dark-mode .tag-chip,
body.dark-mode .cloud-chip,
body.dark-mode .ds-difficulty-badge,
body.dark-mode .player-diff-badge {
  background: var(--ds-badge-bg) !important;
  color: var(--accent) !important;
  border: none !important;
}
body.dark-mode .chip.info    { background: #2b3052 !important; color: #6bc6fd !important; }
body.dark-mode .chip.warning { background: #534429 !important; color: #ffbb54 !important; }
body.dark-mode .chip.success { background: #24352a !important; color: #8ff79e !important; }
body.dark-mode .chip.error   { background: #442729 !important; color: #ff8e81 !important; }

body.dark-mode .badge {
  background: var(--accent) !important;
  color: #fff !important;
}

/* ---------- TABLES ---------- */
body.dark-mode .daily-totals-table th,
body.dark-mode .daily-totals-table td {
  background: var(--surface) !important;
  color: var(--text) !important;
}
body.dark-mode .daily-totals-table tr:nth-child(even) td {
  background: #16161d !important;
}

/* ---------- CALENDAR/CHART/PROGRESS ---------- */
body.dark-mode .calendar-heatmap-cell,
body.dark-mode .calendar-cell,
body.dark-mode .progress-chart {
  background: var(--surface) !important;
  color: var(--text-muted) !important;
  border: none !important;
}

/* ---------- MISC ---------- */
body.dark-mode .form-error,
body.dark-mode .tag-error {
  color: var(--ds-advanced) !important;
}
body.dark-mode .form-success {
  color: #59e893 !important;
}

body.dark-mode .empty-row,
body.dark-mode .no-progress,
body.dark-mode .no-activity {
  color: var(--text-muted) !important;
}

/* ---------- MODALS ---------- */
body.dark-mode .modal-bg {
  background: #111119e9 !important;
}
body.dark-mode .modal-content {
  background: var(--card) !important;
  color: var(--text) !important;
  border: 1.5px solid var(--border) !important;
}

/* ---------- SPINNER ---------- */
body.dark-mode .spinner {
  border: 3.5px solid #2c2c2c;
  border-top: 3.5px solid var(--accent);
}

/* ---------- MOBILE MENUBAR, SUGGESTIONS, ETC. ---------- */
body.dark-mode .mobile-menu-bar,
body.dark-mode .mobile-suggestions-panel,
body.dark-mode .mobile-dropdown,
body.dark-mode .panel-header {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-top: 1.5px solid #232832 !important;
  box-shadow: 0 -2px 18px #000a !important;
}

/* Suggestions button, bottom bar on mobile */
body.dark-mode .show-suggestions-btn {
  background: var(--card) !important;
  color: var(--accent) !important;
  border-top: 1px solid #2c2c36 !important;
  box-shadow: 0 -2px 16px #000a !important;
}

body.dark-mode .close-btn,
body.dark-mode .mobile-menu-close {
  color: #b4c5dd !important;
}
body.dark-mode .close-btn:hover,
body.dark-mode .mobile-menu-close:hover {
  background: #232b38 !important;
}

/* ---------- ICONS ---------- */
body.dark-mode .menu-icon,
body.dark-mode .theme-toggle svg,
body.dark-mode .theme-toggle-icon,
body.dark-mode .player-controls svg {
  color: #b3b3b3 !important;
  fill: #b3b3b3 !important;
  stroke: #b3b3b3 !important;
}

/* ---------- SCROLLBAR ---------- */
body.dark-mode ::-webkit-scrollbar {
  background: #15151b !important;
}
body.dark-mode ::-webkit-scrollbar-thumb {
  background: #25252f !important;
  border-radius: 7px;
}

/* ---------- OVERRIDES ---------- */
body.dark-mode a,
body.dark-mode .video-link {
  color: var(--accent-alt) !important;
}
body.dark-mode a:hover,
body.dark-mode .video-link:hover {
  color: var(--accent) !important;
  text-decoration: underline;
}
body.dark-mode .profile-header-row .settings-link {
  color: var(--accent-alt) !important;
}
body.dark-mode .profile-header-row .settings-link:hover {
  color: var(--accent) !important;
}

/* ---------- LEVEL BADGES ---------- */
body.dark-mode .ds-difficulty-badge[data-level="easy"]      { background: var(--ds-easy) !important; }
body.dark-mode .ds-difficulty-badge[data-level="intermediate"] { background: var(--ds-intermediate) !important; }
body.dark-mode .ds-difficulty-badge[data-level="advanced"]     { background: var(--ds-advanced) !important; }
body.dark-mode .ds-difficulty-badge {
  color: #fff !important;
  font-weight: bold;
  border-radius: 7px;
}

/* ---------- OPTIONAL: HIDE/REMOVE SVELTE INSPECTOR IN PROD ---------- */
#svelte-inspector-overlay,
#svelte-inspector-toggle,
#svelte-inspector-announcer {
  display: none !important;
}
